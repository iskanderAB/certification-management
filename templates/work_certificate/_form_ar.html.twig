<style>
    label {
        float: right;
    }
    * { font-family: DejaVu Sans, sans-serif; }
</style>
<div class='container'>
    {{ form_start(form) }}  
        <div class="form-group">
            {{ form_row(form.reference, { 'label': 'الرقم الالي' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}
        </div>
            <datalist id="references-list">
                {%  for worker in workers %}
                    <option value="{{worker.ref}} ({{worker.firstname}}-{{worker.lastname}})">
                {% endfor %}  
            </datalist>
        <div class="form-group">
            {{ form_row(form.chef, {'label': 'الرئيس' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}  
        </div>    
        <div class="form-group">
            {{ form_row(form.firstname, {'label': ' الاسم' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}   
        </div>    

        <div class="form-group">
            {{ form_row(form.lastname, {'label': 'اللقب' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}   
        </div>  
        <div class="form-group">
            {{ form_row(form.gender, {'label': ' الجنس' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}          
        </div>   
        <div class="form-group">
            {{ form_row(form.poste, {'label': 'الخطة' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}          
        </div>  
        <div class="form-group">
            {{ form_row(form.signer, {'label': ' الموقع' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}          
        </div>  
        <div class="form-group">
            {{ form_row(form.type,{'label': ' الصفة' ,'attr': {'class': 'form-control','dir':'rtl'}}) }}   
        </div>         

        <button class="btn btn-success">{{ button_label|default('تسجيل') }}</button>
        <button class="btn btn-primary">{{ button_label|default('طباعة') }}</button>
    {{ form_end(form) }}
    {% block javascripts %}
        <script>
            if (document.getElementById('certif_ar_reference')){
                document.getElementById("certif_ar_reference")
                    .addEventListener("input", function(event){
                        if(event.inputType == "insertReplacementText" || event.inputType == null) {
                            console.log(event.target.value.slice(event.target.value.indexOf('(')+1, event.target.value.indexOf(')')));
                            const fullname = event.target.value.slice(event.target.value.indexOf('(')+1, event.target.value.indexOf(')')).split('-')
                            document.getElementById('certif_ar_firstname').value= fullname[0]
                            document.getElementById('certif_ar_lastname').value= fullname[1]

                    }
                })
            }
            else{
                console.log("bye");
            }
        </script>      
    {% endblock %}
</div>